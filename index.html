list.innerHTML = '';

if (mainTrains.length === 0) {
  list.innerHTML = "<li>⚠️ 25분 이내 도착하는 상행 1호선 열차가 없습니다.</li>";
} else {
  mainTrains.forEach(train => {
    const seconds = parseInt(train.barvlDt);
    const minutes = Math.floor(seconds / 60);
    const remainSec = seconds % 60;
    const timeText = (minutes === 0)
      ? `약 ${remainSec}초 후 도착 예정`
      : `약 ${minutes}분 ${remainSec}초 후 도착 예정`;

    const li = document.createElement('li');
    li.textContent = `${train.arvlMsg2} (${timeText}, 종착: ${train.bstatnNm})`;
    list.appendChild(li);
  });

  // ✅ 다음 열차 추가
  if (nextTrain) {
    const seconds = parseInt(nextTrain.barvlDt);
    const minutes = Math.floor(seconds / 60);
    const remainSec = seconds % 60;
    const timeText = (minutes === 0)
      ? `약 ${remainSec}초 후 도착 예정`
      : `약 ${minutes}분 ${remainSec}초 후 도착 예정`;

    const extra = document.createElement('li');
    extra.style.background = '#eef6ff';
    extra.style.border = '1px solid #007bff';
    extra.style.fontStyle = 'italic';
    extra.textContent = `다음 열차 ▶ ${nextTrain.arvlMsg2} (${timeText}, 종착: ${nextTrain.bstatnNm})`;
    list.appendChild(extra);
  }
}
